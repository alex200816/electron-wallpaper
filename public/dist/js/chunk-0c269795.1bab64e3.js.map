{"version":3,"sources":["webpack:///./src/views/components/wallpaperShow.vue?fa83","webpack:///./src/views/wallpaperPage.vue?46a4","webpack:///./src/views/wallpaperPage.vue","webpack:///./src/views/components/wallpaperShow.vue","webpack:///./src/api/wallpaper.js","webpack:///src/views/components/wallpaperShow.vue","webpack:///./src/views/components/wallpaperShow.vue?5936","webpack:///./src/views/components/wallpaperShow.vue?e4f2","webpack:///./src/utils/common.js","webpack:///src/views/wallpaperPage.vue","webpack:///./src/views/wallpaperPage.vue?996d","webpack:///./src/views/wallpaperPage.vue?e5fe","webpack:///./node_modules/v-viewer/dist/v-viewer.js","webpack:///./node_modules/viewerjs/dist/viewer.js"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","handleScroll","attrs","xs","sm","md","lg","xl","xxl","wallpaperData","scopedSlots","_u","key","fn","item","index","wallpaperShow","url","wallpaperShowData","isShow","params","cloneWallpaper","_e","staticRenderFns","_v","ref","inited","scope","_l","images","src","_s","options","tagList","tag","resolutionList","resolution","toSwitchResolution","downloadWallpaper","replaceWallpaper","ipcApiRoute","openPath","getDownloadPath","name","props","type","Object","default","undefined","components","Viewer","data","thisImgUrl","created","initParams","methods","viewer","$viewer","utag","tags","split","forEach","push","reslutionList","param","indexOf","that","$ipc","invoke","downloadUrl","then","res","code","$message","info","msg","r1","downloadPath","r2","r3","console","log","$emit","component","deepClone","obj","target","prototype","hasOwnProperty","call","watch","to","form","categoryId","pageCurrent","pageSize","getWallpaperData","$route","query","e","scrollBottom","scrollHeight","scrollTop","clientHeight","cid","start","count","getWallpaper","root","factory","module","exports","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","value","d","getter","o","defineProperty","configurable","enumerable","get","n","__esModule","object","property","p","s","__webpack_exports__","extend","extended","deep","length","arguments","merge","prop","toString","__WEBPACK_IMPORTED_MODULE_0_viewerjs__","__WEBPACK_IMPORTED_MODULE_0_viewerjs___default","__WEBPACK_IMPORTED_MODULE_1__utils__","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_2_vue___default","api","_ref","_ref$images","_ref$options","inline","ViewerToken","a","h","style","display","class","map","attr","token","$mount","document","body","appendChild","$el","$destroy","destroy","bind","removeChild","show","addEventListener","global","__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__","directive","_ref$name","_ref$debug","debug","createViewer","el","rebuild","observer","nextTick","imageDiff","destroyViewer","update","imageContent","innerHTML","match","viewerImageText","join","__viewerImageDiffCache","createObserver","debouncedCreateViewer","destroyObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","mutations","mutation","config","attributes","childList","characterData","subtree","observe","__viewerMutationObserver","createWatcher","_ref2","vnode","expression","simplePathRE","test","__viewerUnwatch","context","$watch","newVal","oldVal","disconnect","destroyWatcher","_console","apply","binding","modifiers","static","unbind","Component","__file","esModule","keys","some","error","functional","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1_viewerjs__","__WEBPACK_IMPORTED_MODULE_1_viewerjs___default","__WEBPACK_IMPORTED_MODULE_2__component_vue__","__WEBPACK_IMPORTED_MODULE_2__component_vue___default","__WEBPACK_IMPORTED_MODULE_3__directive__","__WEBPACK_IMPORTED_MODULE_4__api__","install","Vue","defaultOptions","setDefaults","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","throttle","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","cancel","wrapper","_len","arguments_","Array","_key","self","elapsed","Date","now","exec","clear","setTimeout","debounce","atBegin","Boolean","trigger","computed","onChange","rebuildViewer","updateViewer","_this","$nextTick","handler","_this2","_this3","mounted","destroyed","g","Function","eval","window","rawScriptExports","compiledTemplate","scopeId","cssModules","scriptExports","_scopeId","create","_h","$createElement","_t","_withStripped","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","writable","_toPropertyKey","_createClass","protoProps","staticProps","_toPrimitive","input","hint","prim","toPrimitive","String","Number","arg","DEFAULTS","backdrop","button","navbar","title","toolbar","className","container","fullscreen","inheritedAttributes","initialCoverage","initialViewIndex","interval","keyboard","focus","loading","loop","minWidth","minHeight","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","slideOnTouch","toggleOnDblclick","tooltip","transition","zIndex","zIndexInline","zoomRatio","minZoomRatio","maxZoomRatio","ready","shown","hide","hidden","view","viewed","move","moved","rotate","rotated","scale","scaled","zoom","zoomed","play","stop","TEMPLATE","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","documentElement","HAS_POINTER_EVENT","NAMESPACE","ACTION_MOVE","ACTION_SWITCH","ACTION_ZOOM","CLASS_ACTIVE","concat","CLASS_CLOSE","CLASS_FADE","CLASS_FIXED","CLASS_FULLSCREEN","CLASS_FULLSCREEN_EXIT","CLASS_HIDE","CLASS_HIDE_MD_DOWN","CLASS_HIDE_SM_DOWN","CLASS_HIDE_XS_DOWN","CLASS_IN","CLASS_INVISIBLE","CLASS_LOADING","CLASS_MOVE","CLASS_OPEN","CLASS_SHOW","CLASS_TRANSITION","EVENT_CLICK","EVENT_DBLCLICK","EVENT_DRAG_START","EVENT_FOCUSIN","EVENT_KEY_DOWN","EVENT_LOAD","EVENT_ERROR","EVENT_TOUCH_END","EVENT_TOUCH_MOVE","EVENT_TOUCH_START","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_RESIZE","EVENT_TRANSITION_END","EVENT_WHEEL","EVENT_READY","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDDEN","EVENT_VIEW","EVENT_VIEWED","EVENT_MOVE","EVENT_MOVED","EVENT_ROTATE","EVENT_ROTATED","EVENT_SCALE","EVENT_SCALED","EVENT_ZOOM","EVENT_ZOOMED","EVENT_PLAY","EVENT_STOP","DATA_ACTION","REGEXP_SPACES","BUTTONS","isString","isNaN","isNumber","isUndefined","isObject","isPlainObject","_constructor","isFunction","isArray","assign","args","REGEXP_SUFFIX","setStyle","element","styles","escapeHTMLEntities","replace","hasClass","classList","contains","addClass","elem","add","trim","removeClass","remove","toggleClass","added","REGEXP_HYPHENATE","hyphenate","toLowerCase","getData","dataset","getAttribute","setData","setAttribute","onceSupported","supported","once","listener","set","removeEventListener","removeListener","event","listeners","addListener","_handler","_element$listeners","_len2","_key2","dispatchEvent","Event","CustomEvent","bubbles","cancelable","detail","createEvent","initCustomEvent","getOffset","box","getBoundingClientRect","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","getTransforms","scaleX","scaleY","translateX","translateY","values","transform","WebkitTransform","msTransform","getImageNameFromURL","decodeURIComponent","IS_SAFARI","navigator","userAgent","getImageNaturalSizes","image","newImage","createElement","naturalWidth","naturalHeight","onload","width","height","cssText","getResponsiveClass","getMaxZoomRatio","pointers","pointers2","ratios","pointer","pointerId","pointer2","x1","Math","abs","startX","y1","startY","x2","endX","y2","endY","z1","sqrt","z2","ratio","sort","b","getPointer","endOnly","pageX","pageY","end","timeStamp","getPointersCenter","_ref3","initContainer","initViewer","initList","renderViewer","initBody","ownerDocument","scrollbarWidth","innerWidth","clientWidth","initialBodyPaddingRight","paddingRight","initialBodyComputedPaddingRight","getComputedStyle","containerData","innerHeight","viewerData","parent","max","offsetWidth","offsetHeight","parentData","fulled","list","items","alt","getImageURL","img","onLoad","onError","firstElementChild","loadImage","renderList","next","nextElementSibling","gutter","parseInt","marginLeft","outerWidth","resetList","initImage","done","sizingImage","footerHeight","footer","viewerWidth","viewerHeight","oldImageData","imageData","imageInitializing","abort","aspectRatio","min","x","y","oldRatio","initialImageData","renderImage","marginTop","viewing","moving","rotating","scaling","zooming","onTransitionEnd","imageRendering","resetImage","parentNode","events","canvas","onClick","click","onDragStart","dragstart","onPointerDown","pointerdown","onPointerMove","pointermove","onPointerUp","pointerup","onKeyDown","keydown","onResize","resize","onWheel","wheel","passive","capture","onDblclick","dblclick","handlers","action","localName","parentElement","isTrusted","clickCanvasTimeout","played","exit","full","pointerMoved","toggle","reset","prev","preventDefault","doubleClickImageTimeout","originalEvent","load","timeout","originalImage","parentWidth","parentHeight","filled","keyCode","which","charCode","playing","ctrlKey","buttons","showing","hiding","pointerType","changedTouches","touch","identifier","isSwitchable","change","imageClicked","isShown","close","open","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","player","getElementsByTagName","_this4","wheeling","delta","deltaY","wheelDelta","immediate","build","transitioning","id","removeAttribute","initialOffsetWidth","hideImmediately","onViewerTransitionEnd","onImageTransitionEnd","zoomTo","querySelector","activeItem","onViewed","complete","maxIndex","moveTo","_originalEvent","oldX","oldY","changed","degree","rotateTo","oldDegree","_scaleX","_scaleY","_this5","oldScaleX","oldScaleY","showTooltip","pivot","_this6","_zoomable","newWidth","newHeight","offset","center","_this7","total","onLoadWhenPlay","requestFullscreen","referrerPolicy","_this8","exitFullscreen","_this9","enforceFocus","_this10","clearEnforceFocus","_this11","tooltipBox","textContent","round","tooltipping","fading","_this12","isImg","querySelectorAll","changedIndexes","changedIndex","delaying","initializing","onStart","others","onFocusin","parseFloat","fucus","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","offsetX","offsetY","absoluteOffsetX","AnotherViewer","getUniqueID","nodeType","Error","init","progress","template","custom","zoomButtons","slice","rotateButtons","scaleButtons","size","rotates","position","insertBefore","nextSibling"],"mappings":"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","file":"js/chunk-0c269795.1bab64e3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperShow.vue?vue&type=style&index=0&id=5fb78f6b&prod&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperPage.vue?vue&type=style&index=0&id=b83c5d64&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wallpaperPageContent\",on:{\"scroll\":function($event){return _vm.handleScroll($event)}}},[_c('a-list',{attrs:{\"grid\":{ xs: 1, sm: 1, md: 1, lg: 2, xl: 3, xxl: 4 },\"data-source\":_vm.wallpaperData},scopedSlots:_vm._u([{key:\"renderItem\",fn:function(item, index){return _c('a-list-item',{},[_c('div',{staticClass:\"table_item\",on:{\"click\":function($event){return _vm.wallpaperShow(item)}}},[_c('img',{staticClass:\"pic\",attrs:{\"src\":item.url}})])])}}])}),(_vm.wallpaperShowData.isShow)?_c('wallpaper-show',{attrs:{\"params\":_vm.wallpaperShowData.params},on:{\"cloneWallpaper\":_vm.cloneWallpaper}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"mask cursor_pointer\",on:{\"click\":function($event){return _vm.cloneWallpaper()}}},[_c('span',[_vm._v(\"点击弹窗外关闭\")])]),_c('div',{staticClass:\"wallpaper_show_container\"},[_c('div',{staticClass:\"img_container cursor_pointer\"},[_c('viewer',{ref:\"viewer\",staticClass:\"viewer\",attrs:{\"images\":[_vm.params.url]},on:{\"inited\":_vm.inited},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.images),function(src){return _c('img',{key:src,attrs:{\"src\":src}})}),_vm._v(\" \"+_vm._s(scope.options)+\" \")]}}])})],1),_c('div',{staticClass:\"info_container\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info_item\"},[_c('span',[_vm._v(\"标签：\")]),_c('a-space',{attrs:{\"size\":5}},_vm._l((_vm.params.tagList),function(tag,index){return _c('a-tag',{key:index,attrs:{\"color\":\"#32658D\"}},[_vm._v(_vm._s(tag))])}),1)],1),_c('div',{staticClass:\"info_item\"},[_c('span',[_vm._v(\"分辨率：\")]),_c('a-space',{attrs:{\"size\":5}},_vm._l((_vm.params.resolutionList),function(resolution,index){return _c('a-tag',{key:index,staticClass:\"cursor_pointer\",attrs:{\"color\":\"#32658D\"},on:{\"click\":function($event){return _vm.toSwitchResolution(resolution.url)}}},[_vm._v(_vm._s(resolution.resolution)+\" \")])}),1)],1)]),_c('div',{staticClass:\"info_operate\"},[_c('a-button',{attrs:{\"type\":\"primary\",\"ghost\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.downloadWallpaper()}}},[_vm._v(\"下载\")]),_c('a-button',{attrs:{\"type\":\"primary\",\"ghost\":\"\",\"block\":\"\"},on:{\"click\":function($event){return _vm.replaceWallpaper()}}},[_vm._v(\"设为壁纸\")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const ipcApiRoute = {\r\n    openPath: 'controller.wallpaperController.openPath',\r\n    getDownloadPath: 'controller.wallpaperController.getDownloadPath',\r\n    downloadWallpaper: 'controller.wallpaperController.downloadWallpaper',\r\n    replaceWallpaper: 'controller.wallpaperController.replaceWallpaper',\r\n}\r\n\r\nexport {\r\n    ipcApiRoute\r\n}\r\n","<template>\r\n    <div>\r\n        <div class=\"mask cursor_pointer\" @click=\"cloneWallpaper()\">\r\n            <span>点击弹窗外关闭</span>\r\n        </div>\r\n        <div class=\"wallpaper_show_container\">\r\n            <div class=\"img_container cursor_pointer\">\r\n                <viewer :images=\"[params.url]\"\r\n                        @inited=\"inited\"\r\n                        class=\"viewer\" ref=\"viewer\"\r\n                >\r\n                    <template #default=\"scope\">\r\n                        <img v-for=\"src in scope.images\" :src=\"src\" :key=\"src\">\r\n                        {{ scope.options }}\r\n                    </template>\r\n                </viewer>\r\n            </div>\r\n            <div class=\"info_container\">\r\n                <div class=\"info\">\r\n                    <div class=\"info_item\">\r\n                        <span>标签：</span>\r\n                        <a-space :size=\"5\">\r\n                            <a-tag color=\"#32658D\" v-for=\"(tag, index) in params.tagList\" :key=\"index\">{{ tag }}</a-tag>\r\n                        </a-space>\r\n                    </div>\r\n                    <div class=\"info_item\">\r\n                        <span>分辨率：</span>\r\n                        <a-space :size=\"5\">\r\n                            <a-tag color=\"#32658D\" class=\"cursor_pointer\"\r\n                                   v-for=\"(resolution, index) in params.resolutionList\" :key=\"index\"\r\n                                   @click=\"toSwitchResolution(resolution.url)\">{{ resolution.resolution }}\r\n                            </a-tag>\r\n                        </a-space>\r\n                    </div>\r\n                </div>\r\n                <div class=\"info_operate\">\r\n                    <a-button type=\"primary\" ghost block @click=\"downloadWallpaper()\">下载</a-button>\r\n                    <a-button type=\"primary\" ghost block @click=\"replaceWallpaper()\">设为壁纸</a-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport 'viewerjs/dist/viewer.css'\r\nimport {component as Viewer} from \"v-viewer\"\r\nimport {ipcApiRoute} from \"@/api/wallpaper\";\r\n\r\nexport default {\r\n    name: \"wallpaperShow\",\r\n    props: {\r\n        params: {\r\n            type: Object,\r\n            default: undefined\r\n        }\r\n    },\r\n    components: {\r\n        Viewer\r\n    },\r\n    data() {\r\n        return {\r\n            wallpaperData: {},\r\n            thisImgUrl: undefined\r\n        }\r\n    },\r\n    created() {\r\n        this.wallpaperData = this.params;\r\n        this.initParams();\r\n    },\r\n    methods: {\r\n        inited(viewer) {\r\n            this.$viewer = viewer\r\n        },\r\n        toSwitchResolution(url) {\r\n            this.params.url = url;\r\n            this.thisImgUrl = url;\r\n        },\r\n        initParams() {\r\n            let params = this.params;\r\n\r\n            // 初始化标签集合\r\n            if (params.utag) {\r\n                let tagList = [];\r\n                let tags = params.utag.split(' ');\r\n                tags.forEach(item => {\r\n                    if (item !== '') {\r\n                        tagList.push(item);\r\n                    }\r\n                })\r\n                this.params.tagList = tagList;\r\n            }\r\n\r\n            // 初始化像素集合\r\n            this.thisImgUrl = params.url;\r\n            let reslutionList = [{\r\n                resolution: params.resolution,\r\n                url: params.url\r\n            }]\r\n            for (let param in params) {\r\n                if (param.indexOf(\"img_\") == 0) {\r\n                    let resolution = param.split(\"_\");\r\n                    reslutionList.push({\r\n                        resolution: resolution[1] + \"x\" + resolution[2],\r\n                        url: params[param]\r\n                    })\r\n                }\r\n            }\r\n            this.params.resolutionList = reslutionList;\r\n        },\r\n        downloadWallpaper() {\r\n            let that = this;\r\n            this.$ipc.invoke(ipcApiRoute.downloadWallpaper, {\r\n                downloadUrl: that.thisImgUrl\r\n            }).then(res => {\r\n                if (res.code == 200) {\r\n                    that.$message.info(res.msg, 2);\r\n                    that.$ipc.invoke(ipcApiRoute.openPath, res.data);\r\n                }\r\n            })\r\n        },\r\n        replaceWallpaper() {\r\n            let that = this;\r\n            this.$ipc.invoke(ipcApiRoute.getDownloadPath).then(r1 => {\r\n                this.$ipc.invoke(ipcApiRoute.downloadWallpaper, {\r\n                    downloadUrl: that.thisImgUrl,\r\n                    downloadPath: r1\r\n                }).then(r2 => {\r\n                    if (r2.code == 200) {\r\n                        this.$ipc.invoke(ipcApiRoute.replaceWallpaper, r2.data).then(r3 => {\r\n                            that.$message.info(r3.msg, 2);\r\n                            console.log('replaceWallpaper:' + r3);\r\n                        });\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        cloneWallpaper() {\r\n            this.$emit(\"cloneWallpaper\")\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.mask {\r\n  z-index: 999991;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background: rgba(43, 51, 75, 0.52);\r\n\r\n  span {\r\n    color: #dadada;\r\n    font-size: 16px;\r\n    position: absolute;\r\n    bottom: 30px;\r\n    letter-spacing: 5px;\r\n    text-shadow: 1px 1px 1px #000;\r\n  }\r\n}\r\n\r\n.wallpaper_show_container {\r\n  z-index: 999992;\r\n  position: absolute;\r\n  left: 20%;\r\n  right: 20%;\r\n  top: 20%;\r\n  bottom: 20%;\r\n  width: 60%;\r\n  height: 60%;\r\n  border-radius: 20px;\r\n  background: #161c2e;\r\n  display: flex;\r\n  border: 1px solid #1a3465;\r\n\r\n\r\n  .img_container {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    .viewer {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 90%;\r\n        object-fit: contain;\r\n      }\r\n    }\r\n  }\r\n\r\n  .info_container {\r\n    position: relative;\r\n    border-top-right-radius: 20px;\r\n    border-bottom-right-radius: 20px;\r\n    width: 20%;\r\n    height: 100%;\r\n    padding: 10px;\r\n    background: #1f273f;\r\n\r\n    .info {\r\n      height: 80%;\r\n      overflow: hidden;\r\n      overflow-y: auto;\r\n    }\r\n\r\n    .info_item {\r\n      color: #bebebe;\r\n      text-align: left;\r\n\r\n      span {\r\n        margin-bottom: 5px;\r\n        display: block;\r\n      }\r\n\r\n      .ant-space {\r\n        display: inline-flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n\r\n      }\r\n\r\n      .ant-tag {\r\n        margin-bottom: 10px;\r\n      }\r\n    }\r\n\r\n\r\n    .info_operate {\r\n      position: absolute;\r\n      bottom: 20px;\r\n      left: 10px;\r\n      right: 10px;\r\n\r\n      button {\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.cursor_pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 0px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperShow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperShow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wallpaperShow.vue?vue&type=template&id=5fb78f6b&scoped=true&\"\nimport script from \"./wallpaperShow.vue?vue&type=script&lang=js&\"\nexport * from \"./wallpaperShow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wallpaperShow.vue?vue&type=style&index=0&id=5fb78f6b&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fb78f6b\",\n  null\n  \n)\n\nexport default component.exports","export function deepClone(obj) {\r\n    var target = {};\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            if (typeof obj[key] === 'object') {\r\n                target[key] = deepClone(obj[key]);\r\n            } else {\r\n                target[key] = obj[key];\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n}\r\n","<template>\r\n    <div class=\"wallpaperPageContent\" @scroll=\"handleScroll($event)\">\r\n        <a-list :grid=\"{ xs: 1, sm: 1, md: 1, lg: 2, xl: 3, xxl: 4 }\" :data-source=\"wallpaperData\">\r\n            <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n                <div class=\"table_item\" @click=\"wallpaperShow(item)\">\r\n                    <img class=\"pic\" :src=\"item.url\">\r\n                </div>\r\n            </a-list-item>\r\n        </a-list>\r\n        <wallpaper-show v-if=\"wallpaperShowData.isShow\" @cloneWallpaper=\"cloneWallpaper\"\r\n                        :params=\"wallpaperShowData.params\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {getWallpaper} from \"@/api/360Wallpaper.js\";\r\nimport wallpaperShow from \"@/views/components/wallpaperShow\";\r\nimport {deepClone} from \"@/utils/common\";\r\n\r\nexport default {\r\n    name: \"wallpaperPage\",\r\n    components: {\r\n        wallpaperShow\r\n    },\r\n    watch: {\r\n        '$route.query.categoryId'(to, form) {\r\n            this.categoryId = to\r\n            this.pageCurrent = 1\r\n            this.pageSize = 20\r\n            this.wallpaperData = []\r\n            this.getWallpaperData()\r\n        }\r\n    },\r\n    created() {\r\n        if (this.$route.query.categoryId === undefined) return\r\n        this.categoryId = this.$route.query.categoryId\r\n        this.getWallpaperData()\r\n    },\r\n    data() {\r\n        return {\r\n            categoryId: undefined,\r\n            wallpaperData: [],\r\n            pageCurrent: 1,\r\n            pageSize: 20,\r\n            wallpaperShowData: {\r\n                isShow: false,\r\n                params: undefined\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        handleScroll(e) {\r\n            let scrollBottom =\r\n                e.target.scrollHeight -\r\n                e.target.scrollTop -\r\n                e.target.clientHeight;\r\n\r\n            if (scrollBottom < 400) {\r\n                this.pageCurrent = this.pageCurrent + 1\r\n                this.getWallpaperData();\r\n            }\r\n        },\r\n        getWallpaperData() {\r\n            let params = {\r\n                cid: this.categoryId,\r\n                start: this.pageCurrent * this.pageSize - this.pageSize,\r\n                count: this.pageSize\r\n            }\r\n            getWallpaper(params).then(res => {\r\n                if (res.data) {\r\n                    res.data.forEach(item => {\r\n                        this.wallpaperData.push(item);\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        wallpaperShow(item) {\r\n            console.log(item)\r\n            this.wallpaperShowData.params = deepClone(item);\r\n            this.wallpaperShowData.isShow = true;\r\n        },\r\n        cloneWallpaper() {\r\n            this.wallpaperShowData.params = undefined;\r\n            this.wallpaperShowData.isShow = false;\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.wallpaperPageContent {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.table_item {\r\n  margin: 10px;\r\n  height: 300px;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n\r\n\r\n  .pic {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wallpaperPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wallpaperPage.vue?vue&type=template&id=b83c5d64&scoped=true&\"\nimport script from \"./wallpaperPage.vue?vue&type=script&lang=js&\"\nexport * from \"./wallpaperPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wallpaperPage.vue?vue&type=style&index=0&id=b83c5d64&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b83c5d64\",\n  null\n  \n)\n\nexport default component.exports","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"viewerjs\", \"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueViewer\"] = factory(require(\"viewerjs\"), require(\"vue\"));\n\telse\n\t\troot[\"VueViewer\"] = factory(root[\"Viewer\"], root[\"Vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = extend;\n\nfunction extend() {\n  var extended = {};\n  var deep = false;\n  var i = 0;\n  var length = arguments.length;\n\n  if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n    deep = arguments[0];\n    i++;\n  }\n\n  function merge(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n          extended[prop] = extend(true, extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  }\n\n  for (; i < length; i++) {\n    var obj = arguments[i];\n    merge(obj);\n  }\n\n  return extended;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar api = function api() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$images = _ref.images,\n      images = _ref$images === undefined ? [] : _ref$images,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n\n  options = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* extend */])(options, {\n    inline: false });\n\n  var ViewerToken = __WEBPACK_IMPORTED_MODULE_2_vue___default.a.extend({\n    render: function render(h) {\n      return h('div', {\n        style: {\n          display: 'none'\n        },\n        class: ['__viewer-token']\n      }, images.map(function (attr) {\n        return h('img', {\n          attrs: typeof attr === 'string' ? { src: attr } : attr\n        });\n      }));\n    }\n  });\n  var token = new ViewerToken();\n  token.$mount();\n  document.body.appendChild(token.$el);\n\n  var $viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(token.$el, options);\n  var $destroy = $viewer.destroy.bind($viewer);\n  $viewer.destroy = function () {\n    $destroy();\n    token.$destroy();\n    document.body.removeChild(token.$el);\n    return $viewer;\n  };\n  $viewer.show();\n\n  token.$el.addEventListener('hidden', function () {\n    if (this.viewer === $viewer) {\n      $viewer.destroy();\n    }\n  });\n\n  return $viewer;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue__);\n\n\n\n\nvar directive = function directive() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? 'viewer' : _ref$name,\n      _ref$debug = _ref.debug,\n      debug = _ref$debug === undefined ? false : _ref$debug;\n\n  function createViewer(el, options) {\n    var rebuild = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var observer = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    __WEBPACK_IMPORTED_MODULE_2_vue___default.a.nextTick(function () {\n      if (observer && !imageDiff(el)) return;\n      if (rebuild || !el['$' + name]) {\n        destroyViewer(el);\n        el['$' + name] = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(el, options);\n        log('Viewer created');\n      } else {\n        el['$' + name].update();\n        log('Viewer updated');\n      }\n    });\n  }\n\n  function imageDiff(el) {\n    var imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\n    var viewerImageText = imageContent ? imageContent.join('') : undefined;\n    if (el.__viewerImageDiffCache === viewerImageText) {\n      log('Element change detected, but image(s) has not changed');\n      return false;\n    } else {\n      log('Image change detected');\n      el.__viewerImageDiffCache = viewerImageText;\n      return true;\n    }\n  }\n\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\n    destroyObserver(el);\n    var MutationObserver = global.MutationObserver || global.WebKitMutationObserver || global.MozMutationObserver;\n    if (!MutationObserver) {\n      log('Observer not supported');\n      return;\n    }\n    var observer = new MutationObserver(function (mutations) {\n      mutations.forEach(function (mutation) {\n        log('Viewer mutation:' + mutation.type);\n        debouncedCreateViewer(el, options, rebuild, true);\n      });\n    });\n    var config = { attributes: true, childList: true, characterData: true, subtree: true };\n    observer.observe(el, config);\n    el.__viewerMutationObserver = observer;\n    log('Observer created');\n  }\n\n  function createWatcher(el, _ref2, vnode, debouncedCreateViewer) {\n    var expression = _ref2.expression;\n\n    var simplePathRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/;\n    if (!expression || !simplePathRE.test(expression)) {\n      log('Only simple dot-delimited paths can create watcher');\n      return;\n    }\n    el.__viewerUnwatch = vnode.context.$watch(expression, function (newVal, oldVal) {\n      log('Change detected by watcher: ', expression);\n      debouncedCreateViewer(el, newVal, true);\n    }, {\n      deep: true\n    });\n    log('Watcher created, expression: ', expression);\n  }\n\n  function destroyViewer(el) {\n    if (!el['$' + name]) {\n      return;\n    }\n    el['$' + name].destroy();\n    delete el['$' + name];\n    log('Viewer destroyed');\n  }\n\n  function destroyObserver(el) {\n    if (!el.__viewerMutationObserver) {\n      return;\n    }\n    el.__viewerMutationObserver.disconnect();\n    delete el.__viewerMutationObserver;\n    log('Observer destroyed');\n  }\n\n  function destroyWatcher(el) {\n    if (!el.__viewerUnwatch) {\n      return;\n    }\n    el.__viewerUnwatch();\n    delete el.__viewerUnwatch;\n    log('Watcher destroyed');\n  }\n\n  function log() {\n    var _console;\n\n    debug && (_console = console).log.apply(_console, arguments);\n  }\n\n  var directive = {\n    bind: function bind(el, binding, vnode) {\n      log('Viewer bind');\n      var debouncedCreateViewer = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_throttle_debounce__[\"debounce\"])(50, createViewer);\n      debouncedCreateViewer(el, binding.value);\n\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\n\n      if (!binding.modifiers.static) {\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\n      }\n    },\n    unbind: function unbind(el, binding) {\n      log('Viewer unbind');\n\n      destroyObserver(el);\n\n      destroyWatcher(el);\n\n      destroyViewer(el);\n    }\n  };\n\n  return directive;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (directive);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(8),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Volumes/public/Workspace/web/v-viewer/src/component.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] component.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-3091014c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-3091014c\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_viewerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__component_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__component_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__directive__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api__ = __webpack_require__(3);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"component\", function() { return __WEBPACK_IMPORTED_MODULE_2__component_vue___default.a; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"directive\", function() { return __WEBPACK_IMPORTED_MODULE_3__directive__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"api\", function() { return __WEBPACK_IMPORTED_MODULE_4__api__[\"a\"]; });\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"Viewer\", function() { return __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a; });\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  install: function install(Vue) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$name = _ref.name,\n        name = _ref$name === undefined ? 'viewer' : _ref$name,\n        _ref$debug = _ref.debug,\n        debug = _ref$debug === undefined ? false : _ref$debug,\n        defaultOptions = _ref.defaultOptions;\n\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n\n    Vue.component(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* extend */])(__WEBPACK_IMPORTED_MODULE_2__component_vue___default.a, { name: name }));\n    Vue.directive(name, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__directive__[\"a\" /* default */])({ name: name, debug: debug }));\n    Vue.prototype['$' + name + 'Api'] = __WEBPACK_IMPORTED_MODULE_4__api__[\"a\" /* default */];\n  },\n  setDefaults: function setDefaults(defaultOptions) {\n    __WEBPACK_IMPORTED_MODULE_1_viewerjs___default.a.setDefaults(defaultOptions);\n  }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n\t( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (global = global || self, factory(global.throttleDebounce = {}));\n})(this, function (exports) {\n\t'use strict';\n\n\tfunction throttle(delay, noTrailing, callback, debounceMode) {\n\t\tvar timeoutID;\n\t\tvar cancelled = false;\n\n\t\tvar lastExec = 0;\n\n\t\tfunction clearExistingTimeout() {\n\t\t\tif (timeoutID) {\n\t\t\t\tclearTimeout(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\tfunction cancel() {\n\t\t\tclearExistingTimeout();\n\t\t\tcancelled = true;\n\t\t}\n\n\t\tif (typeof noTrailing !== 'boolean') {\n\t\t\tdebounceMode = callback;\n\t\t\tcallback = noTrailing;\n\t\t\tnoTrailing = undefined;\n\t\t}\n\n\n\t\tfunction wrapper() {\n\t\t\tfor (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targuments_[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar self = this;\n\t\t\tvar elapsed = Date.now() - lastExec;\n\n\t\t\tif (cancelled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction exec() {\n\t\t\t\tlastExec = Date.now();\n\t\t\t\tcallback.apply(self, arguments_);\n\t\t\t}\n\n\n\t\t\tfunction clear() {\n\t\t\t\ttimeoutID = undefined;\n\t\t\t}\n\n\t\t\tif (debounceMode && !timeoutID) {\n\t\t\t\texec();\n\t\t\t}\n\n\t\t\tclearExistingTimeout();\n\n\t\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\t\texec();\n\t\t\t} else if (noTrailing !== true) {\n\t\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t\t}\n\t\t}\n\n\t\twrapper.cancel = cancel;\n\n\t\treturn wrapper;\n\t}\n\n\tfunction debounce(delay, atBegin, callback) {\n\t\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n\t}\n\n\texports.debounce = debounce;\n\texports.throttle = throttle;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_viewerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_viewerjs__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    images: {\n      type: Array\n    },\n    rebuild: {\n      type: Boolean,\n      default: false\n    },\n    trigger: {},\n    options: {\n      type: Object\n    }\n  },\n\n  data: function data() {\n    return {};\n  },\n\n\n  computed: {},\n\n  methods: {\n    onChange: function onChange() {\n      if (this.rebuild) {\n        this.rebuildViewer();\n      } else {\n        this.updateViewer();\n      }\n    },\n    rebuildViewer: function rebuildViewer() {\n      this.destroyViewer();\n      this.createViewer();\n    },\n    updateViewer: function updateViewer() {\n      if (this.$viewer) {\n        this.$viewer.update();\n        this.$emit('inited', this.$viewer);\n      } else {\n        this.createViewer();\n      }\n    },\n    destroyViewer: function destroyViewer() {\n      this.$viewer && this.$viewer.destroy();\n    },\n    createViewer: function createViewer() {\n      this.$viewer = new __WEBPACK_IMPORTED_MODULE_0_viewerjs___default.a(this.$el, this.options);\n      this.$emit('inited', this.$viewer);\n    }\n  },\n\n  watch: {\n    images: function images() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.onChange();\n      });\n    },\n\n    trigger: {\n      handler: function handler() {\n        var _this2 = this;\n\n        this.$nextTick(function () {\n          _this2.onChange();\n        });\n      },\n\n      deep: true\n    },\n    options: {\n      handler: function handler() {\n        var _this3 = this;\n\n        this.$nextTick(function () {\n          _this3.rebuildViewer();\n        });\n      },\n\n      deep: true\n    }\n  },\n\n  mounted: function mounted() {\n    this.createViewer();\n  },\n  destroyed: function destroyed() {\n    this.destroyViewer();\n  }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\ng = function () {\n\treturn this;\n}();\n\ntry {\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\nmodule.exports = g;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  scopeId,\n  cssModules\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  // inject cssModules\n  if (cssModules) {\n    var computed = Object.create(options.computed || null)\n    Object.keys(cssModules).forEach(function (key) {\n      var module = cssModules[key]\n      computed[key] = function () { return module }\n    })\n    options.computed = computed\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._t(\"default\", null, {\n    \"images\": _vm.images,\n    \"options\": _vm.options\n  })], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-3091014c\", module.exports)\n  }\n}\n\n/***/ })\n/******/ ]);\n});","/*!\n * Viewer.js v1.11.3\n * https://fengyuanchen.github.io/viewerjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-03-05T07:01:17.741Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Viewer = factory());\n})(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      enumerableOnly && (symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      })), keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = null != arguments[i] ? arguments[i] : {};\n      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n    return target;\n  }\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n\n  var DEFAULTS = {\n    /**\n     * Enable a modal backdrop, specify `static` for a backdrop\n     * which doesn't close the modal on click.\n     * @type {boolean}\n     */\n    backdrop: true,\n    /**\n     * Show the button on the top-right of the viewer.\n     * @type {boolean}\n     */\n    button: true,\n    /**\n     * Show the navbar.\n     * @type {boolean | number}\n     */\n    navbar: true,\n    /**\n     * Specify the visibility and the content of the title.\n     * @type {boolean | number | Function | Array}\n     */\n    title: true,\n    /**\n     * Show the toolbar.\n     * @type {boolean | number | Object}\n     */\n    toolbar: true,\n    /**\n     * Custom class name(s) to add to the viewer's root element.\n     * @type {string}\n     */\n    className: '',\n    /**\n     * Define where to put the viewer in modal mode.\n     * @type {string | Element}\n     */\n    container: 'body',\n    /**\n     * Filter the images for viewing. Return true if the image is viewable.\n     * @type {Function}\n     */\n    filter: null,\n    /**\n     * Enable to request fullscreen when play.\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\n     * @type {boolean|FullscreenOptions}\n     */\n    fullscreen: true,\n    /**\n     * Define the extra attributes to inherit from the original image.\n     * @type {Array}\n     */\n    inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\n    /**\n     * Define the initial coverage of the viewing image.\n     * @type {number}\n     */\n    initialCoverage: 0.9,\n    /**\n     * Define the initial index of the image for viewing.\n     * @type {number}\n     */\n    initialViewIndex: 0,\n    /**\n     * Enable inline mode.\n     * @type {boolean}\n     */\n    inline: false,\n    /**\n     * The amount of time to delay between automatically cycling an image when playing.\n     * @type {number}\n     */\n    interval: 5000,\n    /**\n     * Enable keyboard support.\n     * @type {boolean}\n     */\n    keyboard: true,\n    /**\n     * Focus the viewer when initialized.\n     * @type {boolean}\n     */\n    focus: true,\n    /**\n     * Indicate if show a loading spinner when load image or not.\n     * @type {boolean}\n     */\n    loading: true,\n    /**\n     * Indicate if enable loop viewing or not.\n     * @type {boolean}\n     */\n    loop: true,\n    /**\n     * Min width of the viewer in inline mode.\n     * @type {number}\n     */\n    minWidth: 200,\n    /**\n     * Min height of the viewer in inline mode.\n     * @type {number}\n     */\n    minHeight: 100,\n    /**\n     * Enable to move the image.\n     * @type {boolean}\n     */\n    movable: true,\n    /**\n     * Enable to rotate the image.\n     * @type {boolean}\n     */\n    rotatable: true,\n    /**\n     * Enable to scale the image.\n     * @type {boolean}\n     */\n    scalable: true,\n    /**\n     * Enable to zoom the image.\n     * @type {boolean}\n     */\n    zoomable: true,\n    /**\n     * Enable to zoom the current image by dragging on the touch screen.\n     * @type {boolean}\n     */\n    zoomOnTouch: true,\n    /**\n     * Enable to zoom the image by wheeling mouse.\n     * @type {boolean}\n     */\n    zoomOnWheel: true,\n    /**\n     * Enable to slide to the next or previous image by swiping on the touch screen.\n     * @type {boolean}\n     */\n    slideOnTouch: true,\n    /**\n     * Indicate if toggle the image size between its natural size\n     * and initial size when double click on the image or not.\n     * @type {boolean}\n     */\n    toggleOnDblclick: true,\n    /**\n     * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\n     * @type {boolean}\n     */\n    tooltip: true,\n    /**\n     * Enable CSS3 Transition for some special elements.\n     * @type {boolean}\n     */\n    transition: true,\n    /**\n     * Define the CSS `z-index` value of viewer in modal mode.\n     * @type {number}\n     */\n    zIndex: 2015,\n    /**\n     * Define the CSS `z-index` value of viewer in inline mode.\n     * @type {number}\n     */\n    zIndexInline: 0,\n    /**\n     * Define the ratio when zoom the image by wheeling mouse.\n     * @type {number}\n     */\n    zoomRatio: 0.1,\n    /**\n     * Define the min ratio of the image when zoom out.\n     * @type {number}\n     */\n    minZoomRatio: 0.01,\n    /**\n     * Define the max ratio of the image when zoom in.\n     * @type {number}\n     */\n    maxZoomRatio: 100,\n    /**\n     * Define where to get the original image URL for viewing.\n     * @type {string | Function}\n     */\n    url: 'src',\n    /**\n     * Event shortcuts.\n     * @type {Function}\n     */\n    ready: null,\n    show: null,\n    shown: null,\n    hide: null,\n    hidden: null,\n    view: null,\n    viewed: null,\n    move: null,\n    moved: null,\n    rotate: null,\n    rotated: null,\n    scale: null,\n    scaled: null,\n    zoom: null,\n    zoomed: null,\n    play: null,\n    stop: null\n  };\n\n  var TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'viewer';\n\n  // Actions\n  var ACTION_MOVE = 'move';\n  var ACTION_SWITCH = 'switch';\n  var ACTION_ZOOM = 'zoom';\n\n  // Classes\n  var CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\n  var CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\n  var CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\n  var CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\n  var CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\n  var CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\n  var CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\n  var CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\n  var CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\n  var CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\n  var CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\n  var CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\n\n  // Native events\n  var EVENT_CLICK = 'click';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_DRAG_START = 'dragstart';\n  var EVENT_FOCUSIN = 'focusin';\n  var EVENT_KEY_DOWN = 'keydown';\n  var EVENT_LOAD = 'load';\n  var EVENT_ERROR = 'error';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_RESIZE = 'resize';\n  var EVENT_TRANSITION_END = 'transitionend';\n  var EVENT_WHEEL = 'wheel';\n\n  // Custom events\n  var EVENT_READY = 'ready';\n  var EVENT_SHOW = 'show';\n  var EVENT_SHOWN = 'shown';\n  var EVENT_HIDE = 'hide';\n  var EVENT_HIDDEN = 'hidden';\n  var EVENT_VIEW = 'view';\n  var EVENT_VIEWED = 'viewed';\n  var EVENT_MOVE = 'move';\n  var EVENT_MOVED = 'moved';\n  var EVENT_ROTATE = 'rotate';\n  var EVENT_ROTATED = 'rotated';\n  var EVENT_SCALE = 'scale';\n  var EVENT_SCALED = 'scaled';\n  var EVENT_ZOOM = 'zoom';\n  var EVENT_ZOOMED = 'zoomed';\n  var EVENT_PLAY = 'play';\n  var EVENT_STOP = 'stop';\n\n  // Data keys\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n\n  // RegExps\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  // Misc\n  var BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\n\n  /**\n   * Check if the given value is a string.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n   */\n  function isString(value) {\n    return typeof value === 'string';\n  }\n\n  /**\n   * Check if the given value is not a number.\n   */\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\n        var length = data.length;\n        var i;\n        for (i = 0; i < length; i += 1) {\n          if (callback.call(data, data[i], i, data) === false) {\n            break;\n          }\n        }\n      } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n    return data;\n  }\n\n  /**\n   * Extend the given object.\n   * @param {*} obj - The object to be extended.\n   * @param {*} args - The rest objects which will be merged to the first object.\n   * @returns {Object} The extended object.\n   */\n  var assign = Object.assign || function assign(obj) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n    return obj;\n  };\n  var REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\n\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value += 'px';\n      }\n      style[property] = value;\n    });\n  }\n\n  /**\n   * Escape a string for using in HTML.\n   * @param {String} value - The string to escape.\n   * @returns {String} Returns the escaped string.\n   */\n  function escapeHTMLEntities(value) {\n    return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\n  }\n\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n  function hasClass(element, value) {\n    if (!element || !value) {\n      return false;\n    }\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n  function addClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n    var className = element.className.trim();\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n  function removeClass(element, value) {\n    if (!element || !value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    }\n\n    // IE10-11 doesn't support the second parameter of `classList.toggle`\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\n\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n  function hyphenate(value) {\n    return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\n  }\n\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n    return element.getAttribute(\"data-\".concat(hyphenate(name)));\n  }\n\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(hyphenate(name)), data);\n    }\n  }\n  var onceSupported = function () {\n    var supported = false;\n    if (IS_BROWSER) {\n      var once = false;\n      var listener = function listener() {};\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n    return supported;\n  }();\n\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n      element.removeEventListener(event, handler, options);\n    });\n  }\n\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          listener.apply(element, args);\n        };\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n      element.addEventListener(event, _handler, options);\n    });\n  }\n\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @param {Object} options - The additional event options.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n  function dispatchEvent(element, type, data, options) {\n    var event;\n\n    // Event and CustomEvent on IE9-11 are global objects, not constructors\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, _objectSpread2({\n        bubbles: true,\n        cancelable: true,\n        detail: data\n      }, options));\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n    return element.dispatchEvent(event);\n  }\n\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n    var values = [];\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    }\n\n    // Rotate should come first before scale to match orientation transform\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n\n  /**\n   * Get an image name from an image url.\n   * @param {string} url - The target url.\n   * @example\n   * // picture.jpg\n   * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\n   * @returns {string} A string contains the image name.\n   */\n  function getImageNameFromURL(url) {\n    return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\n  }\n  var IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n  /**\n   * Get an image's natural sizes.\n   * @param {string} image - The target image.\n   * @param {Object} options - The viewer options.\n   * @param {Function} callback - The callback function.\n   * @returns {HTMLImageElement} The new image.\n   */\n  function getImageNaturalSizes(image, options, callback) {\n    var newImage = document.createElement('img');\n\n    // Modern browsers (except Safari)\n    if (image.naturalWidth && !IS_SAFARI) {\n      callback(image.naturalWidth, image.naturalHeight);\n      return newImage;\n    }\n    var body = document.body || document.documentElement;\n    newImage.onload = function () {\n      callback(newImage.width, newImage.height);\n      if (!IS_SAFARI) {\n        body.removeChild(newImage);\n      }\n    };\n    forEach(options.inheritedAttributes, function (name) {\n      var value = image.getAttribute(name);\n      if (value !== null) {\n        newImage.setAttribute(name, value);\n      }\n    });\n    newImage.src = image.src;\n\n    // iOS Safari will convert the image automatically\n    // with its orientation once append it into DOM\n    if (!IS_SAFARI) {\n      newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n      body.appendChild(newImage);\n    }\n    return newImage;\n  }\n\n  /**\n   * Get the related class name of a responsive type number.\n   * @param {string} type - The responsive type.\n   * @returns {string} The related class name.\n   */\n  function getResponsiveClass(type) {\n    switch (type) {\n      case 2:\n        return CLASS_HIDE_XS_DOWN;\n      case 3:\n        return CLASS_HIDE_SM_DOWN;\n      case 4:\n        return CLASS_HIDE_MD_DOWN;\n      default:\n        return '';\n    }\n  }\n\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n    var ratios = [];\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n        ratios.push(ratio);\n      });\n    });\n    ratios.sort(function (a, b) {\n      return Math.abs(a) < Math.abs(b);\n    });\n    return ratios[0];\n  }\n\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      timeStamp: Date.now(),\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n        startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initViewer();\n      this.initList();\n      this.renderViewer();\n    },\n    initBody: function initBody() {\n      var ownerDocument = this.element.ownerDocument;\n      var body = ownerDocument.body || ownerDocument.documentElement;\n      this.body = body;\n      this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\n      this.initialBodyPaddingRight = body.style.paddingRight;\n      this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\n    },\n    initContainer: function initContainer() {\n      this.containerData = {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    },\n    initViewer: function initViewer() {\n      var options = this.options,\n        parent = this.parent;\n      var viewerData;\n      if (options.inline) {\n        viewerData = {\n          width: Math.max(parent.offsetWidth, options.minWidth),\n          height: Math.max(parent.offsetHeight, options.minHeight)\n        };\n        this.parentData = viewerData;\n      }\n      if (this.fulled || !viewerData) {\n        viewerData = this.containerData;\n      }\n      this.viewerData = assign({}, viewerData);\n    },\n    renderViewer: function renderViewer() {\n      if (this.options.inline && !this.fulled) {\n        setStyle(this.viewer, this.viewerData);\n      }\n    },\n    initList: function initList() {\n      var _this = this;\n      var element = this.element,\n        options = this.options,\n        list = this.list;\n      var items = [];\n\n      // initList may be called in this.update, so should keep idempotent\n      list.innerHTML = '';\n      forEach(this.images, function (image, index) {\n        var src = image.src;\n        var alt = image.alt || getImageNameFromURL(src);\n        var url = _this.getImageURL(image);\n        if (src || url) {\n          var item = document.createElement('li');\n          var img = document.createElement('img');\n          forEach(options.inheritedAttributes, function (name) {\n            var value = image.getAttribute(name);\n            if (value !== null) {\n              img.setAttribute(name, value);\n            }\n          });\n          if (options.navbar) {\n            img.src = src || url;\n          }\n          img.alt = alt;\n          img.setAttribute('data-original-url', url || src);\n          item.setAttribute('data-index', index);\n          item.setAttribute('data-viewer-action', 'view');\n          item.setAttribute('role', 'button');\n          if (options.keyboard) {\n            item.setAttribute('tabindex', 0);\n          }\n          item.appendChild(img);\n          list.appendChild(item);\n          items.push(item);\n        }\n      });\n      this.items = items;\n      forEach(items, function (item) {\n        var image = item.firstElementChild;\n        var onLoad;\n        var onError;\n        setData(image, 'filled', true);\n        if (options.loading) {\n          addClass(item, CLASS_LOADING);\n        }\n        addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\n          removeListener(image, EVENT_ERROR, onError);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n          _this.loadImage(event);\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (options.loading) {\n            removeClass(item, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n      });\n      if (options.transition) {\n        addListener(element, EVENT_VIEWED, function () {\n          addClass(list, CLASS_TRANSITION);\n        }, {\n          once: true\n        });\n      }\n    },\n    renderList: function renderList() {\n      var index = this.index;\n      var item = this.items[index];\n      if (!item) {\n        return;\n      }\n      var next = item.nextElementSibling;\n      var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\n      var offsetWidth = item.offsetWidth;\n      var outerWidth = offsetWidth + gutter;\n\n      // Place the active item in the center of the screen\n      setStyle(this.list, assign({\n        width: outerWidth * this.length - gutter\n      }, getTransforms({\n        translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\n      })));\n    },\n    resetList: function resetList() {\n      var list = this.list;\n      list.innerHTML = '';\n      removeClass(list, CLASS_TRANSITION);\n      setStyle(list, getTransforms({\n        translateX: 0\n      }));\n    },\n    initImage: function initImage(done) {\n      var _this2 = this;\n      var options = this.options,\n        image = this.image,\n        viewerData = this.viewerData;\n      var footerHeight = this.footer.offsetHeight;\n      var viewerWidth = viewerData.width;\n      var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\n      var oldImageData = this.imageData || {};\n      var sizingImage;\n      this.imageInitializing = {\n        abort: function abort() {\n          sizingImage.onload = null;\n        }\n      };\n      sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\n        var width = viewerWidth;\n        var height = viewerHeight;\n        _this2.imageInitializing = false;\n        if (viewerHeight * aspectRatio > viewerWidth) {\n          height = viewerWidth / aspectRatio;\n        } else {\n          width = viewerHeight * aspectRatio;\n        }\n        initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\n        width = Math.min(width * initialCoverage, naturalWidth);\n        height = Math.min(height * initialCoverage, naturalHeight);\n        var left = (viewerWidth - width) / 2;\n        var top = (viewerHeight - height) / 2;\n        var imageData = {\n          left: left,\n          top: top,\n          x: left,\n          y: top,\n          width: width,\n          height: height,\n          oldRatio: 1,\n          ratio: width / naturalWidth,\n          aspectRatio: aspectRatio,\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight\n        };\n        var initialImageData = assign({}, imageData);\n        if (options.rotatable) {\n          imageData.rotate = oldImageData.rotate || 0;\n          initialImageData.rotate = 0;\n        }\n        if (options.scalable) {\n          imageData.scaleX = oldImageData.scaleX || 1;\n          imageData.scaleY = oldImageData.scaleY || 1;\n          initialImageData.scaleX = 1;\n          initialImageData.scaleY = 1;\n        }\n        _this2.imageData = imageData;\n        _this2.initialImageData = initialImageData;\n        if (done) {\n          done();\n        }\n      });\n    },\n    renderImage: function renderImage(done) {\n      var _this3 = this;\n      var image = this.image,\n        imageData = this.imageData;\n      setStyle(image, assign({\n        width: imageData.width,\n        height: imageData.height,\n        // XXX: Not to use translateX/Y to avoid image shaking when zooming\n        marginLeft: imageData.x,\n        marginTop: imageData.y\n      }, getTransforms(imageData)));\n      if (done) {\n        if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\n          var onTransitionEnd = function onTransitionEnd() {\n            _this3.imageRendering = false;\n            done();\n          };\n          this.imageRendering = {\n            abort: function abort() {\n              removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\n            }\n          };\n          addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\n            once: true\n          });\n        } else {\n          done();\n        }\n      }\n    },\n    resetImage: function resetImage() {\n      // this.image only defined after viewed\n      if (this.viewing || this.viewed) {\n        var image = this.image;\n        if (this.viewing) {\n          this.viewing.abort();\n        }\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\n      addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\n      addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\n      addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\n      addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\n      addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var options = this.options,\n        viewer = this.viewer,\n        canvas = this.canvas;\n      var document = this.element.ownerDocument;\n      removeListener(viewer, EVENT_CLICK, this.onClick);\n      removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\n      removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\n      removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\n      removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\n      removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\n      removeListener(window, EVENT_RESIZE, this.onResize);\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(viewer, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n      if (options.toggleOnDblclick) {\n        removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\n      }\n    }\n  };\n\n  var handlers = {\n    click: function click(event) {\n      var options = this.options,\n        imageData = this.imageData;\n      var target = event.target;\n      var action = getData(target, DATA_ACTION);\n      if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\n        target = target.parentElement;\n        action = getData(target, DATA_ACTION);\n      }\n\n      // Cancel the emulated click when the native click event was triggered.\n      if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\n        clearTimeout(this.clickCanvasTimeout);\n      }\n      switch (action) {\n        case 'mix':\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            } else {\n              this.full();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n        case 'hide':\n          if (!this.pointerMoved) {\n            this.hide();\n          }\n          break;\n        case 'view':\n          this.view(getData(target, 'index'));\n          break;\n        case 'zoom-in':\n          this.zoom(0.1, true);\n          break;\n        case 'zoom-out':\n          this.zoom(-0.1, true);\n          break;\n        case 'one-to-one':\n          this.toggle();\n          break;\n        case 'reset':\n          this.reset();\n          break;\n        case 'prev':\n          this.prev(options.loop);\n          break;\n        case 'play':\n          this.play(options.fullscreen);\n          break;\n        case 'next':\n          this.next(options.loop);\n          break;\n        case 'rotate-left':\n          this.rotate(-90);\n          break;\n        case 'rotate-right':\n          this.rotate(90);\n          break;\n        case 'flip-horizontal':\n          this.scaleX(-imageData.scaleX || -1);\n          break;\n        case 'flip-vertical':\n          this.scaleY(-imageData.scaleY || -1);\n          break;\n        default:\n          if (this.played) {\n            this.stop();\n          }\n      }\n    },\n    dblclick: function dblclick(event) {\n      event.preventDefault();\n      if (this.viewed && event.target === this.image) {\n        // Cancel the emulated double click when the native dblclick event was triggered.\n        if (IS_TOUCH_DEVICE && event.isTrusted) {\n          clearTimeout(this.doubleClickImageTimeout);\n        }\n\n        // XXX: No pageX/Y properties in custom event, fallback to the original event.\n        this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\n      }\n    },\n    load: function load() {\n      var _this = this;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = false;\n      }\n      var element = this.element,\n        options = this.options,\n        image = this.image,\n        index = this.index,\n        viewerData = this.viewerData;\n      removeClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        removeClass(this.canvas, CLASS_LOADING);\n      }\n      image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\n      this.initImage(function () {\n        toggleClass(image, CLASS_MOVE, options.movable);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        _this.renderImage(function () {\n          _this.viewed = true;\n          _this.viewing = false;\n          if (isFunction(options.viewed)) {\n            addListener(element, EVENT_VIEWED, options.viewed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_VIEWED, {\n            originalImage: _this.images[index],\n            index: index,\n            image: image\n          }, {\n            cancelable: false\n          });\n        });\n      });\n    },\n    loadImage: function loadImage(event) {\n      var image = event.target;\n      var parent = image.parentNode;\n      var parentWidth = parent.offsetWidth || 30;\n      var parentHeight = parent.offsetHeight || 50;\n      var filled = !!getData(image, 'filled');\n      getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\n        var aspectRatio = naturalWidth / naturalHeight;\n        var width = parentWidth;\n        var height = parentHeight;\n        if (parentHeight * aspectRatio > parentWidth) {\n          if (filled) {\n            width = parentHeight * aspectRatio;\n          } else {\n            height = parentWidth / aspectRatio;\n          }\n        } else if (filled) {\n          height = parentWidth / aspectRatio;\n        } else {\n          width = parentHeight * aspectRatio;\n        }\n        setStyle(image, assign({\n          width: width,\n          height: height\n        }, getTransforms({\n          translateX: (parentWidth - width) / 2,\n          translateY: (parentHeight - height) / 2\n        })));\n      });\n    },\n    keydown: function keydown(event) {\n      var options = this.options;\n      if (!options.keyboard) {\n        return;\n      }\n      var keyCode = event.keyCode || event.which || event.charCode;\n      switch (keyCode) {\n        // Enter\n        case 13:\n          if (this.viewer.contains(event.target)) {\n            this.click(event);\n          }\n          break;\n      }\n      if (!this.fulled) {\n        return;\n      }\n      switch (keyCode) {\n        // Escape\n        case 27:\n          if (this.played) {\n            this.stop();\n          } else if (options.inline) {\n            if (this.fulled) {\n              this.exit();\n            }\n          } else {\n            this.hide();\n          }\n          break;\n\n        // Space\n        case 32:\n          if (this.played) {\n            this.stop();\n          }\n          break;\n\n        // ArrowLeft\n        case 37:\n          if (this.played && this.playing) {\n            this.playing.prev();\n          } else {\n            this.prev(options.loop);\n          }\n          break;\n\n        // ArrowUp\n        case 38:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom in\n          this.zoom(options.zoomRatio, true);\n          break;\n\n        // ArrowRight\n        case 39:\n          if (this.played && this.playing) {\n            this.playing.next();\n          } else {\n            this.next(options.loop);\n          }\n          break;\n\n        // ArrowDown\n        case 40:\n          // Prevent scroll on Firefox\n          event.preventDefault();\n\n          // Zoom out\n          this.zoom(-options.zoomRatio, true);\n          break;\n\n        // Ctrl + 0\n        case 48:\n        // Fall through\n\n        // Ctrl + 1\n        // eslint-disable-next-line no-fallthrough\n        case 49:\n          if (event.ctrlKey) {\n            event.preventDefault();\n            this.toggle();\n          }\n          break;\n      }\n    },\n    dragstart: function dragstart(event) {\n      if (event.target.localName === 'img') {\n        event.preventDefault();\n      }\n    },\n    pointerdown: function pointerdown(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var buttons = event.buttons,\n        button = event.button;\n      this.pointerMoved = false;\n      if (!this.viewed || this.showing || this.viewing || this.hiding\n\n      // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\n      // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\n\n      // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      // Prevent default behaviours as page zooming in touch devices.\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n      var action = options.movable ? ACTION_MOVE : false;\n      if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\n        action = ACTION_ZOOM;\n      } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\n        action = ACTION_SWITCH;\n      }\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        removeClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = action;\n    },\n    pointermove: function pointermove(event) {\n      var pointers = this.pointers,\n        action = this.action;\n      if (!this.viewed || !action) {\n        return;\n      }\n      event.preventDefault();\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n      this.change(event);\n    },\n    pointerup: function pointerup(event) {\n      var _this2 = this;\n      var options = this.options,\n        action = this.action,\n        pointers = this.pointers;\n      var pointer;\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          pointer = pointers[touch.identifier];\n          delete pointers[touch.identifier];\n        });\n      } else {\n        pointer = pointers[event.pointerId || 0];\n        delete pointers[event.pointerId || 0];\n      }\n      if (!action) {\n        return;\n      }\n      event.preventDefault();\n      if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\n        addClass(this.image, CLASS_TRANSITION);\n      }\n      this.action = false;\n\n      // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\n      if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\n        clearTimeout(this.clickCanvasTimeout);\n        clearTimeout(this.doubleClickImageTimeout);\n        if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\n          if (this.imageClicked) {\n            this.imageClicked = false;\n\n            // This timeout will be cleared later when a native dblclick event is triggering\n            this.doubleClickImageTimeout = setTimeout(function () {\n              dispatchEvent(_this2.image, EVENT_DBLCLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          } else {\n            this.imageClicked = true;\n\n            // The default timing of a double click in Windows is 500 ms\n            this.doubleClickImageTimeout = setTimeout(function () {\n              _this2.imageClicked = false;\n            }, 500);\n          }\n        } else {\n          this.imageClicked = false;\n          if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\n            // This timeout will be cleared later when a native click event is triggering\n            this.clickCanvasTimeout = setTimeout(function () {\n              dispatchEvent(_this2.canvas, EVENT_CLICK, {\n                originalEvent: event\n              });\n            }, 50);\n          }\n        }\n      }\n    },\n    resize: function resize() {\n      var _this3 = this;\n      if (!this.isShown || this.hiding) {\n        return;\n      }\n      if (this.fulled) {\n        this.close();\n        this.initBody();\n        this.open();\n      }\n      this.initContainer();\n      this.initViewer();\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this3.renderImage();\n        });\n      }\n      if (this.played) {\n        if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n          this.stop();\n          return;\n        }\n        forEach(this.player.getElementsByTagName('img'), function (image) {\n          addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\n            once: true\n          });\n          dispatchEvent(image, EVENT_LOAD);\n        });\n      }\n    },\n    wheel: function wheel(event) {\n      var _this4 = this;\n      if (!this.viewed) {\n        return;\n      }\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast\n      if (this.wheeling) {\n        return;\n      }\n      this.wheeling = true;\n      setTimeout(function () {\n        _this4.wheeling = false;\n      }, 50);\n      var ratio = Number(this.options.zoomRatio) || 0.1;\n      var delta = 1;\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n      this.zoom(-delta * ratio, true, null, event);\n    }\n  };\n\n  var methods = {\n    /** Show the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    show: function show() {\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.showing || this.isShown || this.showing) {\n        return this;\n      }\n      if (!this.ready) {\n        this.build();\n        if (this.ready) {\n          this.show(immediate);\n        }\n        return this;\n      }\n      if (isFunction(options.show)) {\n        addListener(element, EVENT_SHOW, options.show, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\n        return this;\n      }\n      if (this.hiding) {\n        this.transitioning.abort();\n      }\n      this.showing = true;\n      this.open();\n      var viewer = this.viewer;\n      removeClass(viewer, CLASS_HIDE);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('aria-hidden');\n      if (options.transition && !immediate) {\n        var shown = this.shown.bind(this);\n        this.transitioning = {\n          abort: function abort() {\n            removeListener(viewer, EVENT_TRANSITION_END, shown);\n            removeClass(viewer, CLASS_IN);\n          }\n        };\n        addClass(viewer, CLASS_TRANSITION);\n\n        // Force reflow to enable CSS3 transition\n        viewer.initialOffsetWidth = viewer.offsetWidth;\n        addListener(viewer, EVENT_TRANSITION_END, shown, {\n          once: true\n        });\n        addClass(viewer, CLASS_IN);\n      } else {\n        addClass(viewer, CLASS_IN);\n        this.shown();\n      }\n      return this;\n    },\n    /**\n     * Hide the viewer (only available in modal mode)\n     * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\n     * @returns {Viewer} this\n     */\n    hide: function hide() {\n      var _this = this;\n      var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var element = this.element,\n        options = this.options;\n      if (options.inline || this.hiding || !(this.isShown || this.showing)) {\n        return this;\n      }\n      if (isFunction(options.hide)) {\n        addListener(element, EVENT_HIDE, options.hide, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_HIDE) === false) {\n        return this;\n      }\n      if (this.showing) {\n        this.transitioning.abort();\n      }\n      this.hiding = true;\n      if (this.played) {\n        this.stop();\n      } else if (this.viewing) {\n        this.viewing.abort();\n      }\n      var viewer = this.viewer,\n        image = this.image;\n      var hideImmediately = function hideImmediately() {\n        removeClass(viewer, CLASS_IN);\n        _this.hidden();\n      };\n      if (options.transition && !immediate) {\n        var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\n          // Ignore all propagating `transitionend` events (#275).\n          if (event && event.target === viewer) {\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            _this.hidden();\n          }\n        };\n        var onImageTransitionEnd = function onImageTransitionEnd() {\n          // In case of show the viewer by `viewer.show(true)` previously (#407).\n          if (hasClass(viewer, CLASS_TRANSITION)) {\n            addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            removeClass(viewer, CLASS_IN);\n          } else {\n            hideImmediately();\n          }\n        };\n        this.transitioning = {\n          abort: function abort() {\n            if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\n              removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\n            } else if (hasClass(viewer, CLASS_TRANSITION)) {\n              removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\n            }\n          }\n        };\n\n        // In case of hiding the viewer when holding on the image (#255),\n        // note that the `CLASS_TRANSITION` class will be removed on pointer down.\n        if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\n          addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\n            once: true\n          });\n          this.zoomTo(0, false, null, null, true);\n        } else {\n          onImageTransitionEnd();\n        }\n      } else {\n        hideImmediately();\n      }\n      return this;\n    },\n    /**\n     * View one of the images with image's index\n     * @param {number} index - The index of the image to view.\n     * @returns {Viewer} this\n     */\n    view: function view() {\n      var _this2 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\n      index = Number(index) || 0;\n      if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\n        return this;\n      }\n      if (!this.isShown) {\n        this.index = index;\n        return this.show();\n      }\n      if (this.viewing) {\n        this.viewing.abort();\n      }\n      var element = this.element,\n        options = this.options,\n        title = this.title,\n        canvas = this.canvas;\n      var item = this.items[index];\n      var img = item.querySelector('img');\n      var url = getData(img, 'originalUrl');\n      var alt = img.getAttribute('alt');\n      var image = document.createElement('img');\n      forEach(options.inheritedAttributes, function (name) {\n        var value = img.getAttribute(name);\n        if (value !== null) {\n          image.setAttribute(name, value);\n        }\n      });\n      image.src = url;\n      image.alt = alt;\n      if (isFunction(options.view)) {\n        addListener(element, EVENT_VIEW, options.view, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_VIEW, {\n        originalImage: this.images[index],\n        index: index,\n        image: image\n      }) === false || !this.isShown || this.hiding || this.played) {\n        return this;\n      }\n      var activeItem = this.items[this.index];\n      if (activeItem) {\n        removeClass(activeItem, CLASS_ACTIVE);\n        activeItem.removeAttribute('aria-selected');\n      }\n      addClass(item, CLASS_ACTIVE);\n      item.setAttribute('aria-selected', true);\n      if (options.focus) {\n        item.focus();\n      }\n      this.image = image;\n      this.viewed = false;\n      this.index = index;\n      this.imageData = {};\n      addClass(image, CLASS_INVISIBLE);\n      if (options.loading) {\n        addClass(canvas, CLASS_LOADING);\n      }\n      canvas.innerHTML = '';\n      canvas.appendChild(image);\n\n      // Center current item\n      this.renderList();\n\n      // Clear title\n      title.innerHTML = '';\n\n      // Generate title after viewed\n      var onViewed = function onViewed() {\n        var imageData = _this2.imageData;\n        var render = Array.isArray(options.title) ? options.title[1] : options.title;\n        title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\n      };\n      var onLoad;\n      var onError;\n      addListener(element, EVENT_VIEWED, onViewed, {\n        once: true\n      });\n      this.viewing = {\n        abort: function abort() {\n          removeListener(element, EVENT_VIEWED, onViewed);\n          if (image.complete) {\n            if (_this2.imageRendering) {\n              _this2.imageRendering.abort();\n            } else if (_this2.imageInitializing) {\n              _this2.imageInitializing.abort();\n            }\n          } else {\n            // Cancel download to save bandwidth.\n            image.src = '';\n            removeListener(image, EVENT_LOAD, onLoad);\n            if (_this2.timeout) {\n              clearTimeout(_this2.timeout);\n            }\n          }\n        }\n      };\n      if (image.complete) {\n        this.load();\n      } else {\n        addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n          removeListener(image, EVENT_ERROR, onError);\n          _this2.load();\n        }, {\n          once: true\n        });\n        addListener(image, EVENT_ERROR, onError = function onError() {\n          removeListener(image, EVENT_LOAD, onLoad);\n          if (_this2.timeout) {\n            clearTimeout(_this2.timeout);\n            _this2.timeout = false;\n          }\n          removeClass(image, CLASS_INVISIBLE);\n          if (options.loading) {\n            removeClass(_this2.canvas, CLASS_LOADING);\n          }\n        }, {\n          once: true\n        });\n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n\n        // Make the image visible if it fails to load within 1s\n        this.timeout = setTimeout(function () {\n          removeClass(image, CLASS_INVISIBLE);\n          _this2.timeout = false;\n        }, 1000);\n      }\n      return this;\n    },\n    /**\n     * View the previous image\n     * @param {boolean} [loop=false] - Indicate if view the last one\n     * when it is the first one at present.\n     * @returns {Viewer} this\n     */\n    prev: function prev() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var index = this.index - 1;\n      if (index < 0) {\n        index = loop ? this.length - 1 : 0;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * View the next image\n     * @param {boolean} [loop=false] - Indicate if view the first one\n     * when it is the last one at present.\n     * @returns {Viewer} this\n     */\n    next: function next() {\n      var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var maxIndex = this.length - 1;\n      var index = this.index + 1;\n      if (index > maxIndex) {\n        index = loop ? 0 : maxIndex;\n      }\n      this.view(index);\n      return this;\n    },\n    /**\n     * Move the image with relative offsets.\n     * @param {number} x - The moving distance in the horizontal direction.\n     * @param {number} [y=x] The moving distance in the vertical direction.\n     * @returns {Viewer} this\n     */\n    move: function move(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var imageData = this.imageData;\n      this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\n      return this;\n    },\n    /**\n     * Move the image to an absolute point.\n     * @param {number} x - The new position in the horizontal direction.\n     * @param {number} [y=x] - The new position in the vertical direction.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    moveTo: function moveTo(x) {\n      var _this3 = this;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      x = Number(x);\n      y = Number(y);\n      if (this.viewed && !this.played && options.movable) {\n        var oldX = imageData.x;\n        var oldY = imageData.y;\n        var changed = false;\n        if (isNumber(x)) {\n          changed = true;\n        } else {\n          x = oldX;\n        }\n        if (isNumber(y)) {\n          changed = true;\n        } else {\n          y = oldY;\n        }\n        if (changed) {\n          if (isFunction(options.move)) {\n            addListener(element, EVENT_MOVE, options.move, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_MOVE, {\n            x: x,\n            y: y,\n            oldX: oldX,\n            oldY: oldY,\n            originalEvent: _originalEvent\n          }) === false) {\n            return this;\n          }\n          imageData.x = x;\n          imageData.y = y;\n          imageData.left = x;\n          imageData.top = y;\n          this.moving = true;\n          this.renderImage(function () {\n            _this3.moving = false;\n            if (isFunction(options.moved)) {\n              addListener(element, EVENT_MOVED, options.moved, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_MOVED, {\n              x: x,\n              y: y,\n              oldX: oldX,\n              oldY: oldY,\n              originalEvent: _originalEvent\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Rotate the image with a relative degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotate: function rotate(degree) {\n      this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n      return this;\n    },\n    /**\n     * Rotate the image to an absolute degree.\n     * @param {number} degree - The rotate degree.\n     * @returns {Viewer} this\n     */\n    rotateTo: function rotateTo(degree) {\n      var _this4 = this;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      degree = Number(degree);\n      if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\n        var oldDegree = imageData.rotate;\n        if (isFunction(options.rotate)) {\n          addListener(element, EVENT_ROTATE, options.rotate, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ROTATE, {\n          degree: degree,\n          oldDegree: oldDegree\n        }) === false) {\n          return this;\n        }\n        imageData.rotate = degree;\n        this.rotating = true;\n        this.renderImage(function () {\n          _this4.rotating = false;\n          if (isFunction(options.rotated)) {\n            addListener(element, EVENT_ROTATED, options.rotated, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ROTATED, {\n            degree: degree,\n            oldDegree: oldDegree\n          }, {\n            cancelable: false\n          });\n        });\n      }\n      return this;\n    },\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Viewer} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      this.scale(_scaleX, this.imageData.scaleY);\n      return this;\n    },\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      this.scale(this.imageData.scaleX, _scaleY);\n      return this;\n    },\n    /**\n     * Scale the image.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Viewer} this\n     */\n    scale: function scale(scaleX) {\n      var _this5 = this;\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var element = this.element,\n        options = this.options,\n        imageData = this.imageData;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n      if (this.viewed && !this.played && options.scalable) {\n        var oldScaleX = imageData.scaleX;\n        var oldScaleY = imageData.scaleY;\n        var changed = false;\n        if (isNumber(scaleX)) {\n          changed = true;\n        } else {\n          scaleX = oldScaleX;\n        }\n        if (isNumber(scaleY)) {\n          changed = true;\n        } else {\n          scaleY = oldScaleY;\n        }\n        if (changed) {\n          if (isFunction(options.scale)) {\n            addListener(element, EVENT_SCALE, options.scale, {\n              once: true\n            });\n          }\n          if (dispatchEvent(element, EVENT_SCALE, {\n            scaleX: scaleX,\n            scaleY: scaleY,\n            oldScaleX: oldScaleX,\n            oldScaleY: oldScaleY\n          }) === false) {\n            return this;\n          }\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n          this.scaling = true;\n          this.renderImage(function () {\n            _this5.scaling = false;\n            if (isFunction(options.scaled)) {\n              addListener(element, EVENT_SCALED, options.scaled, {\n                once: true\n              });\n            }\n            dispatchEvent(element, EVENT_SCALED, {\n              scaleX: scaleX,\n              scaleY: scaleY,\n              oldScaleX: oldScaleX,\n              oldScaleY: oldScaleY\n            }, {\n              cancelable: false\n            });\n          });\n        }\n      }\n      return this;\n    },\n    /**\n     * Zoom the image with a relative ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    zoom: function zoom(ratio) {\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var imageData = this.imageData;\n      ratio = Number(ratio);\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n      this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\n      return this;\n    },\n    /**\n     * Zoom the image to an absolute ratio.\n     * @param {number} ratio - The target ratio.\n     * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\n     * @param {Object} [pivot] - The pivot point coordinate for zooming.\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\n     * @returns {Viewer} this\n     */\n    zoomTo: function zoomTo(ratio) {\n      var _this6 = this;\n      var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var element = this.element,\n        options = this.options,\n        pointers = this.pointers,\n        imageData = this.imageData;\n      var x = imageData.x,\n        y = imageData.y,\n        width = imageData.width,\n        height = imageData.height,\n        naturalWidth = imageData.naturalWidth,\n        naturalHeight = imageData.naturalHeight;\n      ratio = Math.max(0, ratio);\n      if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\n        if (!_zoomable) {\n          var minZoomRatio = Math.max(0.01, options.minZoomRatio);\n          var maxZoomRatio = Math.min(100, options.maxZoomRatio);\n          ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\n        }\n        if (_originalEvent) {\n          switch (_originalEvent.type) {\n            case 'wheel':\n              if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\n                ratio = 1;\n              }\n              break;\n            case 'pointermove':\n            case 'touchmove':\n            case 'mousemove':\n              if (ratio > 0.99 && ratio < 1.01) {\n                ratio = 1;\n              }\n              break;\n          }\n        }\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n        var offsetWidth = newWidth - width;\n        var offsetHeight = newHeight - height;\n        var oldRatio = imageData.ratio;\n        if (isFunction(options.zoom)) {\n          addListener(element, EVENT_ZOOM, options.zoom, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: oldRatio,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n        this.zooming = true;\n        if (_originalEvent) {\n          var offset = getOffset(this.viewer);\n          var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          };\n\n          // Zoom from the triggering point of the event\n          imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\n          imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          imageData.x -= offsetWidth * ((pivot.x - x) / width);\n          imageData.y -= offsetHeight * ((pivot.y - y) / height);\n        } else {\n          // Zoom from the center of the image\n          imageData.x -= offsetWidth / 2;\n          imageData.y -= offsetHeight / 2;\n        }\n        imageData.left = imageData.x;\n        imageData.top = imageData.y;\n        imageData.width = newWidth;\n        imageData.height = newHeight;\n        imageData.oldRatio = oldRatio;\n        imageData.ratio = ratio;\n        this.renderImage(function () {\n          _this6.zooming = false;\n          if (isFunction(options.zoomed)) {\n            addListener(element, EVENT_ZOOMED, options.zoomed, {\n              once: true\n            });\n          }\n          dispatchEvent(element, EVENT_ZOOMED, {\n            ratio: ratio,\n            oldRatio: oldRatio,\n            originalEvent: _originalEvent\n          }, {\n            cancelable: false\n          });\n        });\n        if (showTooltip) {\n          this.tooltip();\n        }\n      }\n      return this;\n    },\n    /**\n     * Play the images\n     * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\n     * @returns {Viewer} this\n     */\n    play: function play() {\n      var _this7 = this;\n      var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.isShown || this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.play)) {\n        addListener(element, EVENT_PLAY, options.play, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_PLAY) === false) {\n        return this;\n      }\n      var player = this.player;\n      var onLoad = this.loadImage.bind(this);\n      var list = [];\n      var total = 0;\n      var index = 0;\n      this.played = true;\n      this.onLoadWhenPlay = onLoad;\n      if (fullscreen) {\n        this.requestFullscreen(fullscreen);\n      }\n      addClass(player, CLASS_SHOW);\n      forEach(this.items, function (item, i) {\n        var img = item.querySelector('img');\n        var image = document.createElement('img');\n        image.src = getData(img, 'originalUrl');\n        image.alt = img.getAttribute('alt');\n        image.referrerPolicy = img.referrerPolicy;\n        total += 1;\n        addClass(image, CLASS_FADE);\n        toggleClass(image, CLASS_TRANSITION, options.transition);\n        if (hasClass(item, CLASS_ACTIVE)) {\n          addClass(image, CLASS_IN);\n          index = i;\n        }\n        list.push(image);\n        addListener(image, EVENT_LOAD, onLoad, {\n          once: true\n        });\n        player.appendChild(image);\n      });\n      if (isNumber(options.interval) && options.interval > 0) {\n        var prev = function prev() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index -= 1;\n          index = index >= 0 ? index : total - 1;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(prev, options.interval);\n        };\n        var next = function next() {\n          clearTimeout(_this7.playing.timeout);\n          removeClass(list[index], CLASS_IN);\n          index += 1;\n          index = index < total ? index : 0;\n          addClass(list[index], CLASS_IN);\n          _this7.playing.timeout = setTimeout(next, options.interval);\n        };\n        if (total > 1) {\n          this.playing = {\n            prev: prev,\n            next: next,\n            timeout: setTimeout(next, options.interval)\n          };\n        }\n      }\n      return this;\n    },\n    // Stop play\n    stop: function stop() {\n      var _this8 = this;\n      if (!this.played) {\n        return this;\n      }\n      var element = this.element,\n        options = this.options;\n      if (isFunction(options.stop)) {\n        addListener(element, EVENT_STOP, options.stop, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_STOP) === false) {\n        return this;\n      }\n      var player = this.player;\n      clearTimeout(this.playing.timeout);\n      this.playing = false;\n      this.played = false;\n      forEach(player.getElementsByTagName('img'), function (image) {\n        removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\n      });\n      removeClass(player, CLASS_SHOW);\n      player.innerHTML = '';\n      this.exitFullscreen();\n      return this;\n    },\n    // Enter modal mode (only available in inline mode)\n    full: function full() {\n      var _this9 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = true;\n      this.open();\n      addClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      addClass(viewer, CLASS_FIXED);\n      viewer.setAttribute('role', 'dialog');\n      viewer.setAttribute('aria-labelledby', this.title.id);\n      viewer.setAttribute('aria-modal', true);\n      viewer.removeAttribute('style');\n      setStyle(viewer, {\n        zIndex: options.zIndex\n      });\n      if (options.focus) {\n        this.enforceFocus();\n      }\n      this.initContainer();\n      this.viewerData = assign({}, this.containerData);\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this9.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Exit modal mode (only available in inline mode)\n    exit: function exit() {\n      var _this10 = this;\n      var options = this.options,\n        viewer = this.viewer,\n        image = this.image,\n        list = this.list;\n      if (!this.isShown || this.played || !this.fulled || !options.inline) {\n        return this;\n      }\n      this.fulled = false;\n      this.close();\n      removeClass(this.button, CLASS_FULLSCREEN_EXIT);\n      if (options.transition) {\n        removeClass(list, CLASS_TRANSITION);\n        if (this.viewed) {\n          removeClass(image, CLASS_TRANSITION);\n        }\n      }\n      if (options.focus) {\n        this.clearEnforceFocus();\n      }\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      removeClass(viewer, CLASS_FIXED);\n      setStyle(viewer, {\n        zIndex: options.zIndexInline\n      });\n      this.viewerData = assign({}, this.parentData);\n      this.renderViewer();\n      this.renderList();\n      if (this.viewed) {\n        this.initImage(function () {\n          _this10.renderImage(function () {\n            if (options.transition) {\n              setTimeout(function () {\n                addClass(image, CLASS_TRANSITION);\n                addClass(list, CLASS_TRANSITION);\n              }, 0);\n            }\n          });\n        });\n      }\n      return this;\n    },\n    // Show the current ratio of the image with percentage\n    tooltip: function tooltip() {\n      var _this11 = this;\n      var options = this.options,\n        tooltipBox = this.tooltipBox,\n        imageData = this.imageData;\n      if (!this.viewed || this.played || !options.tooltip) {\n        return this;\n      }\n      tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\n      if (!this.tooltipping) {\n        if (options.transition) {\n          if (this.fading) {\n            dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\n          }\n          addClass(tooltipBox, CLASS_SHOW);\n          addClass(tooltipBox, CLASS_FADE);\n          addClass(tooltipBox, CLASS_TRANSITION);\n          tooltipBox.removeAttribute('aria-hidden');\n\n          // Force reflow to enable CSS3 transition\n          tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\n          addClass(tooltipBox, CLASS_IN);\n        } else {\n          addClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.removeAttribute('aria-hidden');\n        }\n      } else {\n        clearTimeout(this.tooltipping);\n      }\n      this.tooltipping = setTimeout(function () {\n        if (options.transition) {\n          addListener(tooltipBox, EVENT_TRANSITION_END, function () {\n            removeClass(tooltipBox, CLASS_SHOW);\n            removeClass(tooltipBox, CLASS_FADE);\n            removeClass(tooltipBox, CLASS_TRANSITION);\n            tooltipBox.setAttribute('aria-hidden', true);\n            _this11.fading = false;\n          }, {\n            once: true\n          });\n          removeClass(tooltipBox, CLASS_IN);\n          _this11.fading = true;\n        } else {\n          removeClass(tooltipBox, CLASS_SHOW);\n          tooltipBox.setAttribute('aria-hidden', true);\n        }\n        _this11.tooltipping = false;\n      }, 1000);\n      return this;\n    },\n    /**\n     * Toggle the image size between its current size and natural size\n     * @param {Event} [_originalEvent=null] - The original event if any.\n     * @returns {Viewer} this\n     */\n    toggle: function toggle() {\n      var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (this.imageData.ratio === 1) {\n        this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\n      } else {\n        this.zoomTo(1, true, null, _originalEvent);\n      }\n      return this;\n    },\n    // Reset the image to its initial state\n    reset: function reset() {\n      if (this.viewed && !this.played) {\n        this.imageData = assign({}, this.initialImageData);\n        this.renderImage();\n      }\n      return this;\n    },\n    // Update viewer when images changed\n    update: function update() {\n      var _this12 = this;\n      var element = this.element,\n        options = this.options,\n        isImg = this.isImg;\n\n      // Destroy viewer if the target image was deleted\n      if (isImg && !element.parentNode) {\n        return this.destroy();\n      }\n      var images = [];\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n        if (isFunction(options.filter)) {\n          if (options.filter.call(_this12, image)) {\n            images.push(image);\n          }\n        } else if (_this12.getImageURL(image)) {\n          images.push(image);\n        }\n      });\n      if (!images.length) {\n        return this;\n      }\n      this.images = images;\n      this.length = images.length;\n      if (this.ready) {\n        var changedIndexes = [];\n        forEach(this.items, function (item, i) {\n          var img = item.querySelector('img');\n          var image = images[i];\n          if (image && img) {\n            if (image.src !== img.src\n\n            // Title changed (#408)\n            || image.alt !== img.alt) {\n              changedIndexes.push(i);\n            }\n          } else {\n            changedIndexes.push(i);\n          }\n        });\n        setStyle(this.list, {\n          width: 'auto'\n        });\n        this.initList();\n        if (this.isShown) {\n          if (this.length) {\n            if (this.viewed) {\n              var changedIndex = changedIndexes.indexOf(this.index);\n              if (changedIndex >= 0) {\n                this.viewed = false;\n                this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\n              } else {\n                var activeItem = this.items[this.index];\n\n                // Reactivate the current viewing item after reset the list.\n                addClass(activeItem, CLASS_ACTIVE);\n                activeItem.setAttribute('aria-selected', true);\n              }\n            }\n          } else {\n            this.image = null;\n            this.viewed = false;\n            this.index = 0;\n            this.imageData = {};\n            this.canvas.innerHTML = '';\n            this.title.innerHTML = '';\n          }\n        }\n      } else {\n        this.build();\n      }\n      return this;\n    },\n    // Destroy the viewer\n    destroy: function destroy() {\n      var element = this.element,\n        options = this.options;\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n      this.destroyed = true;\n      if (this.ready) {\n        if (this.played) {\n          this.stop();\n        }\n        if (options.inline) {\n          if (this.fulled) {\n            this.exit();\n          }\n          this.unbind();\n        } else if (this.isShown) {\n          if (this.viewing) {\n            if (this.imageRendering) {\n              this.imageRendering.abort();\n            } else if (this.imageInitializing) {\n              this.imageInitializing.abort();\n            }\n          }\n          if (this.hiding) {\n            this.transitioning.abort();\n          }\n          this.hidden();\n        } else if (this.showing) {\n          this.transitioning.abort();\n          this.hidden();\n        }\n        this.ready = false;\n        this.viewer.parentNode.removeChild(this.viewer);\n      } else if (options.inline) {\n        if (this.delaying) {\n          this.delaying.abort();\n        } else if (this.initializing) {\n          this.initializing.abort();\n        }\n      }\n      if (!options.inline) {\n        removeListener(element, EVENT_CLICK, this.onStart);\n      }\n      element[NAMESPACE] = undefined;\n      return this;\n    }\n  };\n\n  var others = {\n    getImageURL: function getImageURL(image) {\n      var url = this.options.url;\n      if (isString(url)) {\n        url = image.getAttribute(url);\n      } else if (isFunction(url)) {\n        url = url.call(this, image);\n      } else {\n        url = '';\n      }\n      return url;\n    },\n    enforceFocus: function enforceFocus() {\n      var _this = this;\n      this.clearEnforceFocus();\n      addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\n        var viewer = _this.viewer;\n        var target = event.target;\n        if (target === document || target === viewer || viewer.contains(target)) {\n          return;\n        }\n        while (target) {\n          // Avoid conflicts with other modals (#474, #540)\n          if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\n            return;\n          }\n          target = target.parentElement;\n        }\n        viewer.focus();\n      });\n    },\n    clearEnforceFocus: function clearEnforceFocus() {\n      if (this.onFocusin) {\n        removeListener(document, EVENT_FOCUSIN, this.onFocusin);\n        this.onFocusin = null;\n      }\n    },\n    open: function open() {\n      var body = this.body;\n      addClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\n      }\n    },\n    close: function close() {\n      var body = this.body;\n      removeClass(body, CLASS_OPEN);\n      if (this.scrollbarWidth > 0) {\n        body.style.paddingRight = this.initialBodyPaddingRight;\n      }\n    },\n    shown: function shown() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      this.fulled = true;\n      this.isShown = true;\n      this.render();\n      this.bind();\n      this.showing = false;\n      if (options.focus) {\n        viewer.focus();\n        this.enforceFocus();\n      }\n      if (isFunction(options.shown)) {\n        addListener(element, EVENT_SHOWN, options.shown, {\n          once: true\n        });\n      }\n      if (dispatchEvent(element, EVENT_SHOWN) === false) {\n        return;\n      }\n      if (this.ready && this.isShown && !this.hiding) {\n        this.view(this.index);\n      }\n    },\n    hidden: function hidden() {\n      var element = this.element,\n        options = this.options,\n        viewer = this.viewer;\n      if (options.fucus) {\n        this.clearEnforceFocus();\n      }\n      this.fulled = false;\n      this.viewed = false;\n      this.isShown = false;\n      this.close();\n      this.unbind();\n      addClass(viewer, CLASS_HIDE);\n      viewer.removeAttribute('role');\n      viewer.removeAttribute('aria-labelledby');\n      viewer.removeAttribute('aria-modal');\n      viewer.setAttribute('aria-hidden', true);\n      this.resetList();\n      this.resetImage();\n      this.hiding = false;\n      if (!this.destroyed) {\n        if (isFunction(options.hidden)) {\n          addListener(element, EVENT_HIDDEN, options.hidden, {\n            once: true\n          });\n        }\n        dispatchEvent(element, EVENT_HIDDEN, null, {\n          cancelable: false\n        });\n      }\n    },\n    requestFullscreen: function requestFullscreen(options) {\n      var document = this.element.ownerDocument;\n      if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        var documentElement = document.documentElement;\n\n        // Element.requestFullscreen()\n        if (documentElement.requestFullscreen) {\n          // Avoid TypeError when convert `options` to dictionary\n          if (isPlainObject(options)) {\n            documentElement.requestFullscreen(options);\n          } else {\n            documentElement.requestFullscreen();\n          }\n        } else if (documentElement.webkitRequestFullscreen) {\n          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n        } else if (documentElement.mozRequestFullScreen) {\n          documentElement.mozRequestFullScreen();\n        } else if (documentElement.msRequestFullscreen) {\n          documentElement.msRequestFullscreen();\n        }\n      }\n    },\n    exitFullscreen: function exitFullscreen() {\n      var document = this.element.ownerDocument;\n      if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\n        // Document.exitFullscreen()\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.webkitExitFullscreen) {\n          document.webkitExitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      }\n    },\n    change: function change(event) {\n      var options = this.options,\n        pointers = this.pointers;\n      var pointer = pointers[Object.keys(pointers)[0]];\n\n      // In the case of the `pointers` object is empty (#421)\n      if (!pointer) {\n        return;\n      }\n      var offsetX = pointer.endX - pointer.startX;\n      var offsetY = pointer.endY - pointer.startY;\n      switch (this.action) {\n        // Move the current image\n        case ACTION_MOVE:\n          if (offsetX !== 0 || offsetY !== 0) {\n            this.pointerMoved = true;\n            this.move(offsetX, offsetY, event);\n          }\n          break;\n\n        // Zoom the current image\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), false, null, event);\n          break;\n        case ACTION_SWITCH:\n          {\n            this.action = 'switched';\n            var absoluteOffsetX = Math.abs(offsetX);\n            if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\n              // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\n              this.pointers = {};\n              if (offsetX > 1) {\n                this.prev(options.loop);\n              } else if (offsetX < -1) {\n                this.next(options.loop);\n              }\n            }\n            break;\n          }\n      }\n\n      // Override\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    },\n    isSwitchable: function isSwitchable() {\n      var imageData = this.imageData,\n        viewerData = this.viewerData;\n      return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\n    }\n  };\n\n  var AnotherViewer = WINDOW.Viewer;\n  var getUniqueID = function (id) {\n    return function () {\n      id += 1;\n      return id;\n    };\n  }(-1);\n  var Viewer = /*#__PURE__*/function () {\n    /**\n     * Create a new Viewer.\n     * @param {Element} element - The target element for viewing.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Viewer(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _classCallCheck(this, Viewer);\n      if (!element || element.nodeType !== 1) {\n        throw new Error('The first argument is required and must be an element.');\n      }\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.action = false;\n      this.fading = false;\n      this.fulled = false;\n      this.hiding = false;\n      this.imageClicked = false;\n      this.imageData = {};\n      this.index = this.options.initialViewIndex;\n      this.isImg = false;\n      this.isShown = false;\n      this.length = 0;\n      this.moving = false;\n      this.played = false;\n      this.playing = false;\n      this.pointers = {};\n      this.ready = false;\n      this.rotating = false;\n      this.scaling = false;\n      this.showing = false;\n      this.timeout = false;\n      this.tooltipping = false;\n      this.viewed = false;\n      this.viewing = false;\n      this.wheeling = false;\n      this.zooming = false;\n      this.pointerMoved = false;\n      this.id = getUniqueID();\n      this.init();\n    }\n    _createClass(Viewer, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var element = this.element,\n          options = this.options;\n        if (element[NAMESPACE]) {\n          return;\n        }\n        element[NAMESPACE] = this;\n\n        // The `focus` option requires the `keyboard` option set to `true`.\n        if (options.focus && !options.keyboard) {\n          options.focus = false;\n        }\n        var isImg = element.localName === 'img';\n        var images = [];\n        forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\n          if (isFunction(options.filter)) {\n            if (options.filter.call(_this, image)) {\n              images.push(image);\n            }\n          } else if (_this.getImageURL(image)) {\n            images.push(image);\n          }\n        });\n        this.isImg = isImg;\n        this.length = images.length;\n        this.images = images;\n        this.initBody();\n\n        // Override `transition` option if it is not supported\n        if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\n          options.transition = false;\n        }\n        if (options.inline) {\n          var count = 0;\n          var progress = function progress() {\n            count += 1;\n            if (count === _this.length) {\n              var timeout;\n              _this.initializing = false;\n              _this.delaying = {\n                abort: function abort() {\n                  clearTimeout(timeout);\n                }\n              };\n\n              // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\n              timeout = setTimeout(function () {\n                _this.delaying = false;\n                _this.build();\n              }, 0);\n            }\n          };\n          this.initializing = {\n            abort: function abort() {\n              forEach(images, function (image) {\n                if (!image.complete) {\n                  removeListener(image, EVENT_LOAD, progress);\n                  removeListener(image, EVENT_ERROR, progress);\n                }\n              });\n            }\n          };\n          forEach(images, function (image) {\n            if (image.complete) {\n              progress();\n            } else {\n              var onLoad;\n              var onError;\n              addListener(image, EVENT_LOAD, onLoad = function onLoad() {\n                removeListener(image, EVENT_ERROR, onError);\n                progress();\n              }, {\n                once: true\n              });\n              addListener(image, EVENT_ERROR, onError = function onError() {\n                removeListener(image, EVENT_LOAD, onLoad);\n                progress();\n              }, {\n                once: true\n              });\n            }\n          });\n        } else {\n          addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\n            var target = _ref.target;\n            if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\n              _this.view(_this.images.indexOf(target));\n            }\n          });\n        }\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (this.ready) {\n          return;\n        }\n        var element = this.element,\n          options = this.options;\n        var parent = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\n        var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\n        var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\n        var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\n        var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        this.parent = parent;\n        this.viewer = viewer;\n        this.title = title;\n        this.toolbar = toolbar;\n        this.navbar = navbar;\n        this.button = button;\n        this.canvas = canvas;\n        this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\n        this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\n        this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\n        this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\n        viewer.id = \"\".concat(NAMESPACE).concat(this.id);\n        title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\n        addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\n        addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\n        toggleClass(button, CLASS_HIDE, !options.button);\n        if (options.keyboard) {\n          button.setAttribute('tabindex', 0);\n        }\n        if (options.backdrop) {\n          addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\n          if (!options.inline && options.backdrop !== 'static') {\n            setData(canvas, DATA_ACTION, 'hide');\n          }\n        }\n        if (isString(options.className) && options.className) {\n          // In case there are multiple class names\n          options.className.split(REGEXP_SPACES).forEach(function (className) {\n            addClass(viewer, className);\n          });\n        }\n        if (options.toolbar) {\n          var list = document.createElement('ul');\n          var custom = isPlainObject(options.toolbar);\n          var zoomButtons = BUTTONS.slice(0, 3);\n          var rotateButtons = BUTTONS.slice(7, 9);\n          var scaleButtons = BUTTONS.slice(9);\n          if (!custom) {\n            addClass(toolbar, getResponsiveClass(options.toolbar));\n          }\n          forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\n            var deep = custom && isPlainObject(value);\n            var name = custom ? hyphenate(index) : value;\n            var show = deep && !isUndefined(value.show) ? value.show : value;\n            if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\n              return;\n            }\n            var size = deep && !isUndefined(value.size) ? value.size : value;\n            var click = deep && !isUndefined(value.click) ? value.click : value;\n            var item = document.createElement('li');\n            if (options.keyboard) {\n              item.setAttribute('tabindex', 0);\n            }\n            item.setAttribute('role', 'button');\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\n            if (!isFunction(click)) {\n              setData(item, DATA_ACTION, name);\n            }\n            if (isNumber(show)) {\n              addClass(item, getResponsiveClass(show));\n            }\n            if (['small', 'large'].indexOf(size) !== -1) {\n              addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\n            } else if (name === 'play') {\n              addClass(item, \"\".concat(NAMESPACE, \"-large\"));\n            }\n            if (isFunction(click)) {\n              addListener(item, EVENT_CLICK, click);\n            }\n            list.appendChild(item);\n          });\n          toolbar.appendChild(list);\n        } else {\n          addClass(toolbar, CLASS_HIDE);\n        }\n        if (!options.rotatable) {\n          var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\n          addClass(rotates, CLASS_INVISIBLE);\n          forEach(rotates, function (rotate) {\n            toolbar.appendChild(rotate);\n          });\n        }\n        if (options.inline) {\n          addClass(button, CLASS_FULLSCREEN);\n          setStyle(viewer, {\n            zIndex: options.zIndexInline\n          });\n          if (window.getComputedStyle(parent).position === 'static') {\n            setStyle(parent, {\n              position: 'relative'\n            });\n          }\n          parent.insertBefore(viewer, element.nextSibling);\n        } else {\n          addClass(button, CLASS_CLOSE);\n          addClass(viewer, CLASS_FIXED);\n          addClass(viewer, CLASS_FADE);\n          addClass(viewer, CLASS_HIDE);\n          setStyle(viewer, {\n            zIndex: options.zIndex\n          });\n          var container = options.container;\n          if (isString(container)) {\n            container = element.ownerDocument.querySelector(container);\n          }\n          if (!container) {\n            container = this.body;\n          }\n          container.appendChild(viewer);\n        }\n        if (options.inline) {\n          this.render();\n          this.bind();\n          this.isShown = true;\n        }\n        this.ready = true;\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n        if (dispatchEvent(element, EVENT_READY) === false) {\n          this.ready = false;\n          return;\n        }\n        if (this.ready && options.inline) {\n          this.view(this.index);\n        }\n      }\n\n      /**\n       * Get the no conflict viewer class.\n       * @returns {Viewer} The viewer class.\n       */\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Viewer = AnotherViewer;\n        return Viewer;\n      }\n\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n    return Viewer;\n  }();\n  assign(Viewer.prototype, render, events, handlers, methods, others);\n\n  return Viewer;\n\n}));\n"],"sourceRoot":""}